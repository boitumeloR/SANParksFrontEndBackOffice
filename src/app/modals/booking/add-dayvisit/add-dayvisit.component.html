<div class="dialog">
    <button id="alignCloseRight" mat-icon-button align="end" color="warn" [mat-dialog-close] aria-label="Close">
        <mat-icon>close</mat-icon>
      </button>
    <h2 mat-dialog-title>Add Day Visit Booking</h2>
    <mat-horizontal-stepper labelPosition="bottom" #stepper style="font-family: 'Nunito', sans-serif; font-size: 18px;">
        <mat-step [stepControl]="firstFormGroup">
            <ng-template matStepLabel>Add Booking Details</ng-template>
  
            <div class="col-md-12 alert alert-warning alert-dismissible fade show" role="alert" *ngIf="httpError">
              {{httpMessage}}
              <button type="button" class="close" data-dismiss="alert" (click)="resetHttp()" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
              <div class="row">
                <div class="col-12">
                  <div>
                    <input type="text" 
                       placeholder="Pick your date"
                       class="form-control"
                       bsDatepicker
                       [minDate]="minDate"
                       [maxDate]="maxDate"
                       placement="bottom"
                       [(ngModel)]="bsValue"
                       [bsConfig]="{ isAnimated: true, adaptivePosition: true, displayOneMonthRange: true }"
                       >
                    </div>
                  <div class="col-md-12 checks">
                    <label class="end">Number of Guests: </label>
                    <div>
                        <button type="button" class="btn btn-success" (click)="subtractAdultGuest()">-</button>
                        <p>{{adultGuests}}</p>
                        <button type="button" class="btn btn-success" (click)="addAdultGuest()">+</button>
                    </div>
                </div>
                <button class="btn btn-light btnGuest" matStepperNext >Enter Guest Details</button>
                </div>
              </div>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Enter Guest Details</ng-template>
          <div class="col-md-12 alert alert-info alert-dismissible fade show" role="alert">
            Add {{adultGuests}} Guests
            <button type="button" class="close" data-dismiss="alert" (click)="resetHttp()" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="col-md-12 alert alert-warning alert-dismissible fade show" role="alert" *ngIf="httpError">
            {{httpMessage}}
            <button type="button" class="close" data-dismiss="alert" (click)="resetHttp()" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <h3> Guests</h3>
          <div class="btn-group first" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-success child" (click)="AddAdultGuest()" >Add Adult</button>
          </div>
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Age</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of bookingGuests">
                <td scope="row">{{item.GuestName}}</td>
                <td>{{item.GuestSurname}}</td>
                <td>{{item.GuestAge}}</td>
                <td> 
                  <a (click)="UpdateGuest(item)">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                  </a>
                  <a (click)="DeleteGuest(item)">
                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div>
            <button class="btn btn-success btnModal"
            (click)="addToItinerary()">
            Add To Itinerary &nbsp;
  
            <div class="spinner-border" role="status" *ngIf="loader">
              <span class="sr-only">Loading...</span>
            </div>
            </button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </div>

